<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--Bootstrap CSS-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">

    <link rel="stylesheet" href="css/login.css">
    <link rel="stylesheet" href="JS/login.js">
    <!--JQuery-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <title>Inicio Sesion</title>


    <!--Inicio script-->
    <script type="text/javascript">
        $(document).ready(function () {
            $("#error").hide();
            $("#errorContrasena").hide();
            $("#errorEmail").hide();

            // Validar email con regex
            function validarEmail(email) {
                let regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return regex.test(email);

            }
            if (window.location.href.indexOf("error=1") > -1) {
                $("#error").html("Usuario o contraseña incorrectos").show();
            }
            $("#formulario").submit(function (event) {
                let msg = "";

                // Contraseña vacía
                if ($("#contrasena").val().trim().length == 0) {
                    msg = "Contraseña inválida";
                    $("#errorContrasena").html(msg).show();

                }

                // Email vacío o inválido
                let email = $("#email").val().trim();
                if (email.length == 0) {
                    msg += " El email está en blanco.";
                    $("#errorEmail").html("El email está en blanco").show();
                } else if (!validarEmail(email)) {
                    msg += " Requiere tener formato Email con @.";
                    $("#errorEmail").html("Requiere tener formato Email con @").show();
                } else {
                    $("#errorEmail").hide();
                }
                if (msg.length > 0) {
                    event.preventDefault();
                    $("#error").html(msg).show();
                } else {
                    $("#error").hide();
                }


            });
        });
    </script>

    <!--Fin script-->
    <!--Para hacer la barra de desplazamiento-->
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: montserrat;
            background: linear-gradient(150deg, #aa2ecf, #0feee3c7);
            min-height: 100vh;
            overflow-y: auto;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="bg-white rounded shadow p-4">
                    <div style="text-align: center;">
                        <img src="img/logoRincon.webp" alt="logo" width="200" height="200">
                        <h1>Rincon Inalambrico</h1>
                        <h2>Login:</h2>
                    </div>
                    <form action="menu2.html" method="post" id="formulario">
                        <!-- Email -->
                        <div class="email">
                            <input type="text" name="email" id="email" class="form-control" placeholder=" " required>
                            <label for="email">Email</label>
                            <span></span>
                        </div>

                        <!-- Contraseña -->
                        <div class="contrasena">
                            <input type="password" name="contrasena" id="contrasena" class="form-control" required>
                            <label for="contrasena">Contraseña</label>
                            <span></span>
                            <button type="button" class="btn btn-outline-secondary" id="togglePassword">❌</button>
                        </div>

                        <script>
                            $(document).ready(function () {
                                $("#togglePassword").click(function () {
                                    let input = $("#contrasena");
                                    let type = input.attr("type") === "password" ? "text" : "password";
                                    input.attr("type", type);

                                    // Cambiar icono según estado
                                    $(this).text(type === "password" ? "❌" : "⬜");
                                });
                            });
                        </script>
                        <div id="errorContrasena" class="alert alert-danger" role="alert"></div>
                </div>
            </div>
            <!-- Los botones -->
            <form>
                <div class="row">
                    <div class="col-md-12 text-center">
                        <input type="submit" class="btn btn-danger me-2" id="enviar" value="Acceder">
                        <input type="reset" class="btn btn-primary" id="limpiar" value="Limpiar">
                        <a href="registrar.html">
                            <input type="button" class="btn btn-outline-secondary " value="Registrarse">
                        </a>
                        <div class="alerta">
                            <div id="error" class="alert alert-danger mt-3" role="alert">
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <!--Boton retorno-->
    <div>
        <a href="index.html">
            <img src="img/boton retornar.png" alt="retorno" width="50" height="50"
                style="position: fixed; bottom: 10px; left: 10px; cursor: pointer;">
        </a>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
        crossorigin="anonymous"></script>



</body>

</html>